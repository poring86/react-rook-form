{
    "sourceFile": "src/components/YoutubeForm.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 19,
            "patches": [
                {
                    "date": 1704744119709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1704744161226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,10 @@\n       social: {\n         twitter: \"\",\n         facebook: \"\",\n       },\n-      phoneNumbers: [\"\", \"\"]\n+      phoneNumbers: [\"\", \"\"],\n+      phNumbers: []\n     },\n   })\n \n   const { register, control, handleSubmit, formState } = form\n"
                },
                {
                    "date": 1704744188952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n         twitter: \"\",\n         facebook: \"\",\n       },\n       phoneNumbers: [\"\", \"\"],\n-      phNumbers: []\n+      phNumbers: [{ number: '' }]\n     },\n   })\n \n   const { register, control, handleSubmit, formState } = form\n"
                },
                {
                    "date": 1704744478505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { useForm } from \"react-hook-form\";\n+import { useFieldArray, useForm } from \"react-hook-form\";\n import { DevTool } from \"@hookform/devtools\"\n \n type FormValues = {\n   username: string\n@@ -32,8 +32,13 @@\n \n   const { register, control, handleSubmit, formState } = form\n   const { errors } = formState\n \n+  const { fields } = useFieldArray({\n+    name: 'phNumbers',\n+    control\n+  })\n+\n   const onSubmit = (data: FormValues) => {\n     console.log('Form submitted', data)\n   }\n \n"
                },
                {
                    "date": 1704744588726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,8 +119,12 @@\n           required: \"Channel is required\"\n         })}></input>\n       </div>\n \n+      <div>\n+        <label>List of phone numbers</label>\n+      </div>\n+\n       <button id=\"submit-button\">Submit</button>\n     </form>\n     <DevTool control={control} />\n   </div>;\n"
                },
                {
                    "date": 1705270651745,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,8 +121,13 @@\n       </div>\n \n       <div>\n         <label>List of phone numbers</label>\n+        <div>\n+          {\n+            fields.map(() => { })\n+          }\n+        </div>\n       </div>\n \n       <button id=\"submit-button\">Submit</button>\n     </form>\n"
                },
                {
                    "date": 1705270795518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,13 @@\n       <div>\n         <label>List of phone numbers</label>\n         <div>\n           {\n-            fields.map(() => { })\n+            fields.map(() => {\n+              <div className=\"\">\n+\n+              </div>\n+            })\n           }\n         </div>\n       </div>\n \n"
                },
                {
                    "date": 1705270825944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n         <label>List of phone numbers</label>\n         <div>\n           {\n             fields.map(() => {\n-              <div className=\"\">\n+              <div className=\"form-control\" key={fields.id}>\n \n               </div>\n             })\n           }\n"
                },
                {
                    "date": 1705270835350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,10 +123,10 @@\n       <div>\n         <label>List of phone numbers</label>\n         <div>\n           {\n-            fields.map(() => {\n-              <div className=\"form-control\" key={fields.id}>\n+            fields.map((field, index) => {\n+              <div className=\"form-control\" key={field.id}>\n \n               </div>\n             })\n           }\n"
                },
                {
                    "date": 1705270948549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n         <div>\n           {\n             fields.map((field, index) => {\n               <div className=\"form-control\" key={field.id}>\n-\n+                <input type=\"text\" {...register(`phNumbers.${index}.number` as const)}\n               </div>\n             })\n           }\n         </div>\n"
                },
                {
                    "date": 1705270985077,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n         <div>\n           {\n             fields.map((field, index) => {\n               <div className=\"form-control\" key={field.id}>\n-                <input type=\"text\" {...register(`phNumbers.${index}.number` as const)}\n+                <input type=\"text\" {...register(`phNumbers.${index}.number` as const)} />\n               </div>\n             })\n           }\n         </div>\n"
                },
                {
                    "date": 1705270997792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,11 +124,11 @@\n         <label>List of phone numbers</label>\n         <div>\n           {\n             fields.map((field, index) => {\n-              <div className=\"form-control\" key={field.id}>\n+              return (<div className=\"form-control\" key={field.id}>\n                 <input type=\"text\" {...register(`phNumbers.${index}.number` as const)} />\n-              </div>\n+              </div>)\n             })\n           }\n         </div>\n       </div>\n"
                },
                {
                    "date": 1705271176833,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,8 +129,9 @@\n                 <input type=\"text\" {...register(`phNumbers.${index}.number` as const)} />\n               </div>)\n             })\n           }\n+          <button type=\"button\">Add phone number</button>\n         </div>\n       </div>\n \n       <button id=\"submit-button\">Submit</button>\n"
                },
                {
                    "date": 1705271302381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n \n   const { register, control, handleSubmit, formState } = form\n   const { errors } = formState\n \n-  const { fields } = useFieldArray({\n+  const { fields, append } = useFieldArray({\n     name: 'phNumbers',\n     control\n   })\n \n@@ -129,13 +129,13 @@\n                 <input type=\"text\" {...register(`phNumbers.${index}.number` as const)} />\n               </div>)\n             })\n           }\n-          <button type=\"button\">Add phone number</button>\n+          <button type=\"button\" onClick={ }>Add phone number</button>\n         </div>\n       </div>\n \n-      <button id=\"submit-button\">Submit</button>\n+      <button id=\"submit-button\" onClick={() => append({ number: \"\" })}>Submit</button>\n     </form>\n     <DevTool control={control} />\n   </div>;\n };\n"
                },
                {
                    "date": 1705271476372,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,9 +129,9 @@\n                 <input type=\"text\" {...register(`phNumbers.${index}.number` as const)} />\n               </div>)\n             })\n           }\n-          <button type=\"button\" onClick={ }>Add phone number</button>\n+          <button type=\"button\" onClick={() => append({ number: \"\" })}>Add phone number</button>\n         </div>\n       </div>\n \n       <button id=\"submit-button\" onClick={() => append({ number: \"\" })}>Submit</button>\n"
                },
                {
                    "date": 1705271637969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,16 +122,32 @@\n \n       <div>\n         <label>List of phone numbers</label>\n         <div>\n-          {\n-            fields.map((field, index) => {\n-              return (<div className=\"form-control\" key={field.id}>\n-                <input type=\"text\" {...register(`phNumbers.${index}.number` as const)} />\n-              </div>)\n-            })\n-          }\n-          <button type=\"button\" onClick={() => append({ number: \"\" })}>Add phone number</button>\n+          {fields.map((field, index) => (\n+            <div className=\"form-control\" key={field.id}>\n+              <input\n+                type=\"text\"\n+                {...register(`phone.${index}.number` as const)}\n+              />\n+\n+              {index > 0 && (\n+                <button type=\"button\" onClick={() => remove(index)}>\n+                  Remove\n+                </button>\n+              )}\n+            </div>\n+          ))}\n+          <button\n+            type=\"button\"\n+            onClick={() =>\n+              append({\n+                number: \"\",\n+              })\n+            }\n+          >\n+            Add phone number\n+          </button>\n         </div>\n       </div>\n \n       <button id=\"submit-button\" onClick={() => append({ number: \"\" })}>Submit</button>\n"
                },
                {
                    "date": 1705271679060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,12 +32,12 @@\n \n   const { register, control, handleSubmit, formState } = form\n   const { errors } = formState\n \n-  const { fields, append } = useFieldArray({\n-    name: 'phNumbers',\n-    control\n-  })\n+  const { fields, append, remove } = useFieldArray({\n+    name: \"phone\",\n+    control,\n+  });\n \n   const onSubmit = (data: FormValues) => {\n     console.log('Form submitted', data)\n   }\n"
                },
                {
                    "date": 1705271712826,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n   const { register, control, handleSubmit, formState } = form\n   const { errors } = formState\n \n   const { fields, append, remove } = useFieldArray({\n-    name: \"phone\",\n+    name: \"phNumbers\",\n     control,\n   });\n \n   const onSubmit = (data: FormValues) => {\n"
                },
                {
                    "date": 1705271738505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n           {fields.map((field, index) => (\n             <div className=\"form-control\" key={field.id}>\n               <input\n                 type=\"text\"\n-                {...register(`phone.${index}.number` as const)}\n+                {...register(`phone.${index}.phNumbers` as const)}\n               />\n \n               {index > 0 && (\n                 <button type=\"button\" onClick={() => remove(index)}>\n"
                },
                {
                    "date": 1705271749466,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n           {fields.map((field, index) => (\n             <div className=\"form-control\" key={field.id}>\n               <input\n                 type=\"text\"\n-                {...register(`phone.${index}.phNumbers` as const)}\n+                {...register(`phNumbers.${index}.number` as const)}\n               />\n \n               {index > 0 && (\n                 <button type=\"button\" onClick={() => remove(index)}>\n"
                }
            ],
            "date": 1704744119708,
            "name": "Commit-0",
            "content": "import { useForm } from \"react-hook-form\";\nimport { DevTool } from \"@hookform/devtools\"\n\ntype FormValues = {\n  username: string\n  email: string\n  channel: string\n  social: {\n    twitter: string\n    facebook: string\n  }\n  phoneNumbers: string[]\n  phNumbers: {\n    number: string;\n  }[]\n}\n\nexport const YoutubeForm = () => {\n  const form = useForm<FormValues>({\n    defaultValues: {\n      username: \"Matheus\",\n      email: \"\",\n      channel: \"\",\n      social: {\n        twitter: \"\",\n        facebook: \"\",\n      },\n      phoneNumbers: [\"\", \"\"]\n    },\n  })\n\n  const { register, control, handleSubmit, formState } = form\n  const { errors } = formState\n\n  const onSubmit = (data: FormValues) => {\n    console.log('Form submitted', data)\n  }\n\n  return <div>\n    <form onSubmit={handleSubmit(onSubmit)} noValidate>\n      <div className=\"form-control\">\n        <label className=\"label\" htmlFor=\"username\">Username</label>\n        <input className=\"input\" type=\"text\" id=\"username\" {...register(\"username\", {\n          required: \"Username is required\"\n        })}></input>\n        <p className=\"error\">{errors.username?.message}</p>\n      </div>\n\n      <div className=\"form-control\">\n        <label className=\"label\" htmlFor=\"email\">Email</label>\n        <input className=\"input\"\n          type=\"email\"\n          id=\"email\"\n          {...register(\"email\", {\n            pattern: {\n              value:\n                /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n              message: \"Invalid email format\",\n            },\n            validate: {\n              notAdmin: (fieldValue) => fieldValue !== \"admin@example.com\" ||\n                \"Enter a different email address\",\n              notBlackListed: (fieldValue) =>\n                !fieldValue.endsWith(\"baddomain.com\") ||\n                \"This domain is not supported\"\n              ,\n              emailAvailable: async (fieldValue) => {\n                const response = await fetch(\n                  `https://jsonplaceholder.typicode.com/users?email=${fieldValue}`\n                );\n                const data = await response.json();\n                return data.length === 0 || \"Email already exists\";\n              },\n            },\n          })}\n        />\n        <p className=\"error\">{errors.email?.message}</p>\n      </div>\n\n      <div className=\"form-control\">\n        <label className=\"label\" htmlFor=\"channel\">Channel</label>\n        <input className=\"input\" type=\"text\" id=\"channel\" {...register(\"channel\", {\n          required: \"Channel is required\"\n        })}></input>\n\n        <p className=\"error\">{errors.channel?.message}</p>\n      </div>\n\n      <div className=\"form-control\">\n        <label className=\"label\" htmlFor=\"twitter\">Twitter</label>\n        <input className=\"input\" type=\"text\" id=\"twitter\" {...register(\"social.twitter\", {\n          required: \"Channel is required\"\n        })}></input>\n      </div>\n\n      <div className=\"form-control\">\n        <label className=\"label\" htmlFor=\"facebook\">Facebook</label>\n        <input className=\"input\" type=\"text\" id=\"facebook\" {...register(\"social.facebook\", {\n          required: \"Channel is required\"\n        })}></input>\n      </div>\n\n      <div className=\"form-control\">\n        <label className=\"label\" htmlFor=\"primary-phone\">Primary phone number</label>\n        <input className=\"input\" type=\"text\" id=\"primary-phone\" {...register(\"phoneNumbers.0\", {\n          required: \"Channel is required\"\n        })}></input>\n      </div>\n\n      <div className=\"form-control\">\n        <label className=\"label\" htmlFor=\"secondary-phone\">Secondary phone number</label>\n        <input className=\"input\" type=\"text\" id=\"secondary-phone\" {...register(\"phoneNumbers.1\", {\n          required: \"Channel is required\"\n        })}></input>\n      </div>\n\n      <button id=\"submit-button\">Submit</button>\n    </form>\n    <DevTool control={control} />\n  </div>;\n};\n"
        }
    ]
}